<link rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha384-o/2yZuJZWGJ4s/adjxVW71R+EO/LyCwdQfP5UWSgX/w87iiTXuvDZaejd3TsN7mf"
      crossorigin="anonymous">

<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha384-okbbMvvx/qfQkmiQKfd5VifbKZ/W8p1qIsWvE1ROPUfHWsDcC8/BnHohF7vPg2T6"
        crossorigin="anonymous"></script>

<div id="map" style="height: 600px; width: 800px"></div>

<script>function createIcon(file) {
    return L.icon({
        iconUrl: file,
        iconSize: [40, 40],
    });
}

var openStatusIcon = createIcon('/wp-content/uploads/2023/04/pin-open.svg');
var doneStatusIcon = createIcon('/wp-content/uploads/2023/04/pin-done.svg');
var unknownStatusIcon = createIcon('/wp-content/uploads/2023/04/pin-unknown.svg');

function createMarker(map, latLng, title, status, description, link) {
    if( status == 'open') {
        console.log('open icon needed')
        var marker = L.marker(latLng, {icon: openStatusIcon}).addTo(map);
    } else if (status == 'done') {
        console.log('done icon needed')
        var marker = L.marker(latLng, {icon: doneStatusIcon}).addTo(map);
    } else {
        console.log('unknown icon needed')
        var marker = L.marker(latLng, {icon: unknownStatusIcon}).addTo(map);
    }
    var content = '<h3>' + title + '</h3> <p>' + description+ '<br /><a href="' + link + '">Projektseite</a></p>';
    marker.bindPopup(content);
}

var map = L.map('map', { center: [52.5051, 13.4334], zoom: 13 });
L.tileLayer(
    'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
    {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    createMarker(map, [52.5051, 13.4334], 'Thema A', 'open' ,'kurze Beschreibung', 'https://leafletjs.com/reference.html#popup')
    createMarker(map, [52.5151, 13.4334], 'Thema B', 'done' ,'hier steht auch irgendwas', 'https://leafletjs.com/reference.html#popup')
    createMarker(map, [52.5251, 13.4334], 'Thema C', 'unknown' ,'und noch mehr Beschreibung mit viel BlahBlah und so weiter und so fort', 'https://leafletjs.com/reference.html#popup')
</script>